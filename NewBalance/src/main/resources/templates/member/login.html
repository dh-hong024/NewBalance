<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
<h2>Login</h2>
    <form id="loginForm" action="/login/loginProc" method="post" th:object="${memberDto}">
        <label th:for="userId">아이디</label>
        <input type="text" id="userId" th:field="*{userId}"> <br>

        <label th:for="password">비밀번호</label>
        <input type="password" id="password" th:field="*{password}"> <br>

        <p style="display: none" class="error_txt" id="error_text"
           th:if="${#strings.length(session.exception)>0}"
           th:text="${session.exception}">로그인하시려면 아이디와 비밀번호를 입력해주세요</p>

        <div id="idAvaliable" class="valid-feedback" style="display: none;">true</div>
        <button type="submit" id="loginBtn" sec:authorize="isAnonymous()">로그인</button>

    </form>

</body>

<script>
        const error = document.getElementById('error_text');
        if(error !== undefined) alert(error.innerText);
</script>

</html>